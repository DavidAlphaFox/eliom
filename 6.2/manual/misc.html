<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Miscellaneous</title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/js/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><button id="reason">Switch to </button><form id="search"><input name="q" id="q" placeholder="search ..."/><button>Search</button></form><h1>Miscellaneous</h1><h2 id="predefinedconstructs">HTML widgets <a class="backref" href="#predefinedconstructs">&#182;</a></h2><h3>Images, CSS, Javascript</h3><p>To include an image, simply use function  <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_content.Html.D#VALimg">Eliom_content.​Html.​D.​img</a></span>:
</p><pre class=""><code class="language-ocaml translatable">img ~alt:&quot;Ocsigen&quot;
    ~src:(Eliom_content.Html.F.make_uri
            ~service:(Eliom_service.static_dir ())
            [&quot;images&quot;; &quot;ocsigen1024.jpg&quot;])
    ()</code></pre><p>The function <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_content.Html.D#VALmake_uri">Eliom_content.​Html.​D.​make_uri</a></span>
creates a relative URL string from current URL
(see above) to the URL of the image (here in the static directory
configured in the configuration file).
</p><p>To simplify the creation of <span class="code">&lt;link</span>&gt; tags
for CSS or <span class="code">&lt;script</span>&gt; tags for Javascript,
use the following functions:
</p><pre class=""><code class="language-ocaml translatable">Eliom_content.Html.F.css_link
  ~uri:(Eliom_content.Html.F.make_uri
         ~service:(Eliom_service.static_dir ()) [&quot;style.css&quot;]) ()</code></pre><pre class=""><code class="language-ocaml translatable">Eliom_content.Html.F.js_script
  ~uri:(Eliom_content.Html.F.make_uri
         ~service:(Eliom_service.static_dir ()) [&quot;funs.js&quot;]) ()</code></pre><h3 id="basic_menu">Basic menus <a class="backref" href="#basic_menu">&#182;</a></h3><p>To build a menu on your Web page, you can use the function
<span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_tools#VALmenu">Eliom_tools.​menu</a></span>.
First, define your menu like this:
</p><pre class=""><code class="language-ocaml translatable">let mymenu current =
  Eliom_tools.menu ~classe:[&quot;menuprincipal&quot;]
    (home, %:xmllist&lt; Home ~&gt;&gt;)
    [
     (infos, %:xmllist&lt; More info ~&gt;&gt;);
     (tutorial, %:xmllist&lt; Documentation ~&gt;&gt;)
   ] current</code></pre><p>Here, <span class="code">home</span>,  <span class="code">infos</span>,
and <span class="code">tutorial</span> are your three pages (generated for example
by  <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_service.App#VALcreate">Eliom_service.​App.​create</a></span>).
</p><p>Then <span class="code">mymenu service:home</span> will generate the following
code:
</p><div class="pre"><p>&lt;ul class=&quot;menu menuprincipal&quot;&gt;
&lt;li class=&quot;current first&quot;&gt;Home
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;infos&quot;&gt;More info&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&quot;last&quot;&gt;&lt;a href=&quot;tutorial&quot;&gt;Documentation&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;</p></div><p>Personalize it in your CSS stylesheet.
</p><p><span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_tools#VALmenu">Eliom_tools.​menu</a></span> takes a list of services without
GET parameters.
If you want one of the links to contain GET parameters, pre-apply
the service.
</p><h3 id="hier_menu">Hierarchical menus <a class="backref" href="#hier_menu">&#182;</a></h3><pre class=""><code class="language-ocaml translatable">(* Hierarchical menu *)
open Eliom_tools_common

let hier1 = service ~path:[&quot;hier1&quot;] ~get_params:unit ()
let hier2 = service ~path:[&quot;hier2&quot;] ~get_params:unit ()
let hier3 = service ~path:[&quot;hier3&quot;] ~get_params:unit ()
let hier4 = service ~path:[&quot;hier4&quot;] ~get_params:unit ()
let hier5 = service ~path:[&quot;hier5&quot;] ~get_params:unit ()
let hier6 = service ~path:[&quot;hier6&quot;] ~get_params:unit ()
let hier7 = service ~path:[&quot;hier7&quot;] ~get_params:unit ()
let hier8 = service ~path:[&quot;hier8&quot;] ~get_params:unit ()
let hier9 = service ~path:[&quot;hier9&quot;] ~get_params:unit ()
let hier10 = service ~path:[&quot;hier10&quot;] ~get_params:unit ()

let mymenu =
  (
   (Main_page hier1),

   [([pcdata &quot;page 1&quot;], Site_tree (Main_page hier1, []));

    ([pcdata &quot;page 2&quot;], Site_tree (Main_page hier2, []));

    ([pcdata &quot;submenu 4&quot;],
     Site_tree
       (Default_page hier4,
         [([pcdata &quot;submenu 3&quot;],
          Site_tree
             (Not_clickable,
              [([pcdata &quot;page 3&quot;], Site_tree (Main_page hier3, []));
               ([pcdata &quot;page 4&quot;], Site_tree (Main_page hier4, []));
               ([pcdata &quot;page 5&quot;], Site_tree (Main_page hier5, []))]
             )
          );

          ([pcdata &quot;page 6&quot;], Site_tree (Main_page hier6, []))]
       )
    );

    ([pcdata &quot;page 7&quot;],
     Site_tree (Main_page hier7, []));

    ([pcdata &quot;disabled&quot;], Disabled);

    ([pcdata &quot;submenu 8&quot;],
     Site_tree
       (Main_page hier8,
        [([pcdata &quot;page 9&quot;], Site_tree (Main_page hier9, []));
         ([pcdata &quot;page 10&quot;], Site_tree (Main_page hier10, []))]
       )
    )
  ]
  )

let f i s () () =
  return
    (html
       (head (title (pcdata &quot;&quot;))
          ((style ~contenttype:&quot;text/css&quot;
             [cdata_style
 &quot;a {color: red;}\n
  li.eliomtools_current &gt; a {color: blue;}\n
  .breadthmenu li {\n
    display: inline;\n
    padding: 0px 1em;\n
    margin: 0px;\n
    border-right: solid 1px black;}\n
  .breadthmenu li.eliomtools_last {border: none;}\n
                &quot;])::
                Html_tools.F.structure_links mymenu ~service:s ())
             )
       (body [h1 [pcdata (&quot;Page &quot;^string_of_int i)];
              h2 [pcdata &quot;Depth first, whole tree:&quot;];
              div
                (Html_tools.F.hierarchical_menu_depth_first
                   ~whole_tree:true mymenu ~service:s ());
              h2 [pcdata &quot;Depth first, only current submenu:&quot;];
              div (Html_tools.F.hierarchical_menu_depth_first mymenu ~service:s ());
              h2 [pcdata &quot;Breadth first:&quot;];
              div
                (Html_tools.F.hierarchical_menu_breadth_first
                   ~classe:[&quot;breadthmenu&quot;] mymenu ~service:s ())]))


let _ =
  register hier1 (f 1 hier1);
  register hier2 (f 2 hier2);
  register hier3 (f 3 hier3);
  register hier4 (f 4 hier4);
  register hier5 (f 5 hier5);
  register hier6 (f 6 hier6);
  register hier7 (f 7 hier7);
  register hier8 (f 8 hier8);
  register hier9 (f 9 hier9);
  register hier10 (f 10 hier10)</code></pre><h2>Atom</h2><p>An extension is provided to build Atom fields (modules <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_atom">Eliom_atom</a></span> and <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Atom_feed">Atom_feed</a></span>).
</p></body></html>
