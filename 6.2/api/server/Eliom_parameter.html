<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Eliom_parameter </title><meta charset="utf8"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1> Eliom's Reference manual</h1><h2><a href="/eliom/6.2/manual/intro.html" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server-side programming</h2><h3>Services</h3><h4><a href="/eliom/6.2/manual/server-services.html" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="/eliom/6.2/manual/server-params.html" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="/eliom/6.2/manual/server-outputs.html" class="ocsimore_phrasing_link">Service handlers</a></h4><h4><a href="/eliom/6.2/manual/server-links.html" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="/eliom/6.2/manual/server-state.html" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="/eliom/6.2/manual/server-security.html" class="ocsimore_phrasing_link">Security</a></h3><h2>Client-server programming</h2><h3><a href="/eliom/6.2/manual/clientserver-applications.html" class="ocsimore_phrasing_link">Eliom applications</a></h3><h3><a href="/eliom/6.2/manual/clientserver-html.html" class="ocsimore_phrasing_link">Generating HTML</a></h3><h3><a href="/eliom/6.2/manual/clientserver-communication.html" class="ocsimore_phrasing_link">Communication</a></h3><h3><a href="/eliom/6.2/manual/clientserver-services.html" class="ocsimore_phrasing_link">Client-side services</a></h3><h3><a href="/eliom/6.2/manual/clientserver-react.html" class="ocsimore_phrasing_link">Shared reactive programming</a></h3><h3><a href="/eliom/6.2/manual/clientserver-cache.html" class="ocsimore_phrasing_link">Caching data and off-line applications</a></h3><h3><a href="/eliom/6.2/manual/clientserver-wrapping.html" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h2>Workflows</h2><h3><a href="/eliom/6.2/manual/workflow-distillery.html" class="ocsimore_phrasing_link">Distillery</a></h3><h3><a href="/eliom/6.2/manual/mobile-apps.html" class="ocsimore_phrasing_link">Mobile apps</a></h3><h3><a href="/eliom/6.2/manual/workflow-compilation.html" class="ocsimore_phrasing_link">Compilation</a></h3><h3><a href="/eliom/6.2/manual/workflow-configuration.html" class="ocsimore_phrasing_link">Configuration &amp; running</a></h3><h3><a href="/eliom/6.2/manual/scalability.html" class="ocsimore_phrasing_link">Scalability</a></h3><h2>Syntax</h2><h3><a href="/eliom/6.2/manual/ppx-syntax.html" class="ocsimore_phrasing_link">PPX-based syntax</a></h3><h3><a href="/eliom/6.2/manual/clientserver-language.html" class="ocsimore_phrasing_link">Camlp4-based syntax</a></h3><h3><a href="/eliom/6.2/manual/ppx-migration.html" class="ocsimore_phrasing_link">Migration to PPX</a></h3><h1>Server API</h1><h2><a href="/eliom/6.2/api/server/Eliom_lib.html" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_client.html" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_client_value.html" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_common.html" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_config.html" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_request_info.html" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_reference.html" class="ocsimore_phrasing_link">Eliom_reference</a></h2><h2><a href="/eliom/6.2/api/server/Eliom_state.html" class="ocsimore_phrasing_link">Eliom_state</a></h2><h2>Content and form creation</h2><h3><a href="/eliom/6.2/api/server/Eliom_content.html" class="ocsimore_phrasing_link">Eliom_content</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_content.Html.html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_content.Svg.html" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_content.Xml.html" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_tools.html" class="ocsimore_phrasing_link">Eliom_tools</a></h3><h2>Service creation</h2><h3><a href="/eliom/6.2/api/server/Eliom_service.html" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_parameter.html" class="ocsimore_phrasing_link">Eliom_parameter</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.html" class="ocsimore_phrasing_link">Eliom_registration</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.Html.html" class="ocsimore_phrasing_link">Eliom_registration.Html</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.Action.html" class="ocsimore_phrasing_link">Eliom_registration.Action</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.Ocaml.html" class="ocsimore_phrasing_link">Eliom_registration.Ocaml</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.App.html" class="ocsimore_phrasing_link">Eliom_registration.App</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.File.html" class="ocsimore_phrasing_link">Eliom_registration.File</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.Any.html" class="ocsimore_phrasing_link">Eliom_registration.Any</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_registration.Redirection.html" class="ocsimore_phrasing_link">Eliom_registration.Redirection</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/6.2/api/server/Eliom_shared.html" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_notif.html" class="ocsimore_phrasing_link">Eliom_notif</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_cscache.html" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_bus.html" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_comet.html" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="/eliom/6.2/api/server/Eliom_react.html" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/index_types.html">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/index_exceptions.html">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/index_values.html">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/index_modules.html">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/index_module_types.html">Index of module types</a></span></h3><h1>Ocamlbuild plugin</h1><h2><a href="/eliom/6.2/api/ocamlbuild/Ocamlbuild_eliom.html" class="ocsimore_phrasing_link">Ocamlbuild_eliom</a></h2><h1>Client API</h1><h2><a href="/eliom/6.2/api/client/Eliom_lib.html" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="/eliom/6.2/api/client/Eliom_client.html" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="/eliom/6.2/api/client/Eliom_client_value.html" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2>Content and form creation</h2><h3><a href="/eliom/6.2/api/client/Eliom_content.Html.html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_content.Svg.html" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_content.Xml.html" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/6.2/api/client/Eliom_service.html" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_shared.html" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_cscache.html" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_bus.html" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_comet.html" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="/eliom/6.2/api/client/Eliom_react.html" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/client/index_types.html">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/client/index_exceptions.html">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/client/index_values.html">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/client/index_modules.html">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/client/index_module_types.html">Index of module types</a></span></h3><h1>Ppx syntax</h1><h2><a href="/eliom/6.2/api/ppx/Ppx_eliom.html" class="ocsimore_phrasing_link">Ppx_eliom</a></h2><h1>Module <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_parameter.html">Eliom_parameter</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_parameter</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_parameter.html">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p><span class="odocwiki_inlinecode">user_type ~of_string ~to_string s</span> construct a parameter, labeled
<span class="odocwiki_inlinecode">s</span>, such that the server will have to use <span class="odocwiki_inlinecode">of_string</span> and
<span class="odocwiki_inlinecode">to_string</span> to make the conversion between the OCaml
representation of the parameter and it's representation as a
string. It allows one to use any type for a parameter. Providing
converters via the optional <span class="odocwiki_inlinecode">?client_to_and_from</span> parameter allows
injecting the parameter (or a service that uses it) for use in
client code.
</p><hr/><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">include</span> <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_parameter_sigs.S.html">Eliom_parameter_sigs.​S</a></span></pre><pre class="ocsforge_color odocwiki_code" id="VALuser_type"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">user_type</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?client_to_and_of:</span>'a to_and_of <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_client_value.html#TYPEt">Eliom_client_value.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">of_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], [ `One of 'a ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">user_type ~of_string ~to_string s</span> construct a parameter, labeled
<span class="odocwiki_inlinecode">s</span>, such that the server will have to use <span class="odocwiki_inlinecode">of_string</span> and
<span class="odocwiki_inlinecode">to_string</span> to make the conversion between the OCaml
representation of the parameter and it's representation as a
string. It allows one to use any type for a parameter. Providing
converters via the optional <span class="odocwiki_inlinecode">?client_to_and_from</span> parameter allows
injecting the parameter (or a service that uses it) for use in
client code.</p></div><pre class="ocsforge_color odocwiki_code" id="VALall_suffix_user"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">all_suffix_user</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?client_to_and_of:</span>'a to_and_of <span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/api/server/Eliom_client_value.html#TYPEt">Eliom_client_value.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">of_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>'a, [ `Endsuffix ], [ `One of 'a ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p>Takes the whole suffix, as long as possible, with a type specified
by the user. See <span class="odocwiki_inlinecode">user_type</span> for the description of the
arguments.</p></div><pre class="ocsforge_color odocwiki_code" id="VALtype_checker"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">type_checker</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [&lt; suff ] as 'b, 'c<span class="ocsforge_color_delimiter">)</span> params_type <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p>Specifying parameter as <span class="odocwiki_inlinecode">type_checker check t</span> is equivalent as
<span class="odocwiki_inlinecode">t</span> but the check function is called after decoding the
parameters, allowing you to make more checks on the parameters
before the service handler is called. Raise an exception if the
parameter is not correct, and the error handler will be called
instead of the service handler.</p></div><pre class="ocsforge_color odocwiki_code" id="VALregexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, [ `WithoutSuffix ], [ `One of string ] param_name<span class="ocsforge_color_delimiter">)</span><br/>  params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">regexp r d s</span> tells that the service takes a string that matches
the regular expression <span class="odocwiki_inlinecode">r</span> as parameter, labeled <span class="odocwiki_inlinecode">s</span>, and that will
be rewritten in d.  The syntax of regexp is PCRE's one (uses
<span class="odocwiki_inlinecode">Netstring_pcre</span>, from OCamlnet).  For example: <span class="odocwiki_inlinecode">regexp
(Netstring_pcre.regexp &quot;\[(.* )\]&quot;) &quot;($1)&quot; &quot;myparam&quot;</span> will match
the parameter <span class="odocwiki_inlinecode">myparam=[hello]</span> and send the string <span class="odocwiki_inlinecode">&quot;(hello)&quot;</span> to
the service handler.</p></div><pre class="ocsforge_color odocwiki_code" id="VALall_suffix_regexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">all_suffix_regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, [ `Endsuffix ], [ `One of string ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">all_suffix_regexp r d s</span> takes all the suffix, as long as
possible, matching the regular expression <span class="odocwiki_inlinecode">r</span>, name <span class="odocwiki_inlinecode">s</span>, and
rewrite it in <span class="odocwiki_inlinecode">d</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_non_localized_get_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_non_localized_get_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> non_localized_params <span class="ocsforge_color_delimiter">-&gt;</span> 'a option</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">get_non_localized_get_parameters ~sp p</span> decodes and returns non
localized GET parameters specified by <span class="odocwiki_inlinecode">p</span> if present.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_non_localized_post_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_non_localized_post_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> non_localized_params <span class="ocsforge_color_delimiter">-&gt;</span> 'a option</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">get_non_localized_post_parameters ~sp p</span> decodes and returns non
localized POST parameters specified by <span class="odocwiki_inlinecode">p</span> if present.</p></div></body></html>
