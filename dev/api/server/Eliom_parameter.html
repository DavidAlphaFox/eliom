<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Eliom_parameter </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/js/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><div class="project-page project-eliom"><div class="page-header"><p class="logo-ocsigen"><a href="/" class="ocsimore_phrasing_link"><img src="/img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><ul><li><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="mainmenu-current"><a href="/eliom/6.2/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li><a href="/js_of_ocaml/2.8.4/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li><a href="/ocsigenserver/2.8/manual/quickstart" class="ocsimore_phrasing_link">Server</a>
</li><li><a href="/lwt/3.1.0/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li><a href="/ocsigen-toolkit/1.0/manual/intro" class="ocsimore_phrasing_link">Toolkit</a>
</li><li><a href="/ocsigen-start/1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li><li><a href="/projects" class="ocsimore_phrasing_link">Other projects</a></li></ul></div><div class="version-selector"><p>Version
</p><div class="version-selector-versions"><p><span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/manual/intro">6.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/6.1/manual/intro">6.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/6.0/manual/intro">6.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/manual/intro">5.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.2/manual/intro">4.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.1/manual/intro">4.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.0/manual/intro">4.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/3.0/manual/intro">3.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.2.2/manual/intro">2.2.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/manual/intro">2.1.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0.2/manual/intro">2.0.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0.1/manual/intro">2.0.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0/manual/intro">2.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.3.4/manual/intro">1.3.4</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/manual/intro">1.2.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.1.0/manual/intro">1.1.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/dev/manual/intro">dev</a></span></p></div></div><div class="client-server-switch-wrapper"><div class="client-server-switch"><span class="server source">This is server API</span> API (go to <a class="client target" href="/eliom/dev/api/client/Eliom_parameter">client</a>)</div></div><button id="reason">Switch to </button><form id="search"><input name="q" id="q" placeholder="search ..."/><button>Search</button></form><h1>Module <span><a class="ocsforge_doclink_eliom" href="/eliom/dev/api/server/Eliom_parameter">Eliom_parameter</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_parameter</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/dev/api/server/Eliom_parameter">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p><span class="odocwiki_inlinecode">user_type ~of_string ~to_string s</span> construct a parameter, labeled
<span class="odocwiki_inlinecode">s</span>, such that the server will have to use <span class="odocwiki_inlinecode">of_string</span> and
<span class="odocwiki_inlinecode">to_string</span> to make the conversion between the OCaml
representation of the parameter and it's representation as a
string. It allows one to use any type for a parameter. Providing
converters via the optional <span class="odocwiki_inlinecode">?client_to_and_from</span> parameter allows
injecting the parameter (or a service that uses it) for use in
client code.
</p><hr/><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">include</span> <span><a class="ocsforge_doclink_eliom" href="/eliom/dev/api/server/Eliom_parameter_sigs.S">Eliom_parameter_sigs.​S</a></span></pre><pre class="ocsforge_color odocwiki_code" id="VALuser_type"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">user_type</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?client_to_and_of:</span>'a to_and_of <span><a class="ocsforge_doclink_eliom" href="/eliom/dev/api/server/Eliom_client_value#TYPEt">Eliom_client_value.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">of_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], [ `One of 'a ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">user_type ~of_string ~to_string s</span> construct a parameter, labeled
<span class="odocwiki_inlinecode">s</span>, such that the server will have to use <span class="odocwiki_inlinecode">of_string</span> and
<span class="odocwiki_inlinecode">to_string</span> to make the conversion between the OCaml
representation of the parameter and it's representation as a
string. It allows one to use any type for a parameter. Providing
converters via the optional <span class="odocwiki_inlinecode">?client_to_and_from</span> parameter allows
injecting the parameter (or a service that uses it) for use in
client code.</p></div><pre class="ocsforge_color odocwiki_code" id="VALall_suffix_user"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">all_suffix_user</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?client_to_and_of:</span>'a to_and_of <span><a class="ocsforge_doclink_eliom" href="/eliom/dev/api/server/Eliom_client_value#TYPEt">Eliom_client_value.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">of_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>'a, [ `Endsuffix ], [ `One of 'a ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p>Takes the whole suffix, as long as possible, with a type specified
by the user. See <span class="odocwiki_inlinecode">user_type</span> for the description of the
arguments.</p></div><pre class="ocsforge_color odocwiki_code" id="VALtype_checker"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">type_checker</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [&lt; suff ] as 'b, 'c<span class="ocsforge_color_delimiter">)</span> params_type <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p>Specifying parameter as <span class="odocwiki_inlinecode">type_checker check t</span> is equivalent as
<span class="odocwiki_inlinecode">t</span> but the check function is called after decoding the
parameters, allowing you to make more checks on the parameters
before the service handler is called. Raise an exception if the
parameter is not correct, and the error handler will be called
instead of the service handler.</p></div><pre class="ocsforge_color odocwiki_code" id="VALregexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, [ `WithoutSuffix ], [ `One of string ] param_name<span class="ocsforge_color_delimiter">)</span><br/>  params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">regexp r d s</span> tells that the service takes a string that matches
the regular expression <span class="odocwiki_inlinecode">r</span> as parameter, labeled <span class="odocwiki_inlinecode">s</span>, and that will
be rewritten in d.  The syntax of regexp is PCRE's one (uses
<span class="odocwiki_inlinecode">Netstring_pcre</span>, from OCamlnet).  For example: <span class="odocwiki_inlinecode">regexp
(Netstring_pcre.regexp &quot;\[(.* )\]&quot;) &quot;($1)&quot; &quot;myparam&quot;</span> will match
the parameter <span class="odocwiki_inlinecode">myparam=[hello]</span> and send the string <span class="odocwiki_inlinecode">&quot;(hello)&quot;</span> to
the service handler.</p></div><pre class="ocsforge_color odocwiki_code" id="VALall_suffix_regexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">all_suffix_regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">to_string:</span><span class="ocsforge_color_delimiter">(</span>string <span class="ocsforge_color_delimiter">-&gt;</span> string<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_delimiter">(</span>string, [ `Endsuffix ], [ `One of string ] param_name<span class="ocsforge_color_delimiter">)</span> params_type</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">all_suffix_regexp r d s</span> takes all the suffix, as long as
possible, matching the regular expression <span class="odocwiki_inlinecode">r</span>, name <span class="odocwiki_inlinecode">s</span>, and
rewrite it in <span class="odocwiki_inlinecode">d</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_non_localized_get_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_non_localized_get_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> non_localized_params <span class="ocsforge_color_delimiter">-&gt;</span> 'a option</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">get_non_localized_get_parameters ~sp p</span> decodes and returns non
localized GET parameters specified by <span class="odocwiki_inlinecode">p</span> if present.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_non_localized_post_parameters"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_non_localized_post_parameters</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>'a, [ `WithoutSuffix ], 'b<span class="ocsforge_color_delimiter">)</span> non_localized_params <span class="ocsforge_color_delimiter">-&gt;</span> 'a option</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">get_non_localized_post_parameters ~sp p</span> decodes and returns non
localized POST parameters specified by <span class="odocwiki_inlinecode">p</span> if present.</p></div></div></body></html>
