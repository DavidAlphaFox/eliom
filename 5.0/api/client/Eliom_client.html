<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Eliom_client </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/js/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><div class="project-page project-eliom"><div class="page-header"><p class="logo-ocsigen"><a href="/" class="ocsimore_phrasing_link"><img src="/img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><ul><li><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="mainmenu-current"><a href="/eliom/6.2/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li><a href="/js_of_ocaml/2.8.4/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li><a href="/ocsigenserver/2.8/manual/quickstart" class="ocsimore_phrasing_link">Server</a>
</li><li><a href="/lwt/3.1.0/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li><a href="/ocsigen-toolkit/1.0/manual/intro" class="ocsimore_phrasing_link">Toolkit</a>
</li><li><a href="/ocsigen-start/1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li><li><a href="/projects" class="ocsimore_phrasing_link">Other projects</a></li></ul></div><div class="version-selector"><p>Version
</p><div class="version-selector-versions"><p><span><a class="ocsforge_doclink_eliom" href="/eliom/6.2/manual/intro">6.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/6.1/manual/intro">6.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/6.0/manual/intro">6.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/manual/intro">5.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.2/manual/intro">4.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.1/manual/intro">4.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/4.0/manual/intro">4.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/3.0/manual/intro">3.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.2.2/manual/intro">2.2.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/manual/intro">2.1.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0.2/manual/intro">2.0.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0.1/manual/intro">2.0.1</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.0/manual/intro">2.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.3.4/manual/intro">1.3.4</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/manual/intro">1.2.2</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/1.1.0/manual/intro">1.1.0</a></span>
<span><a class="ocsforge_doclink_eliom" href="/eliom/dev/manual/intro">dev</a></span></p></div></div><div class="client-server-switch-wrapper"><div class="client-server-switch"><span class="client source">This is client API</span> API (go to <a class="server target" href="/eliom/5.0/api/server/Eliom_client">server</a>)</div></div><button id="reason">Switch to </button><form id="search"><input name="q" id="q" placeholder="search ..."/><button>Search</button></form><h1>Module <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_client">Eliom_client</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_client</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_client">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Call server side services and change the current page.
</p><hr/><pre class="ocsforge_color odocwiki_code" id="VALinit_client_app"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">init_client_app</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?ssl:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">full_path:</span><span class="ocsforge_color_uid">Eliom_lib</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Url</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">path</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Call this function if you want to be able to run your client side app
before doing the first request, that is, when the client side app
is not sent by the server. This may be the case for example if you are
developing a mobile app. The parameters correspond to the base URL of the
server side of your application.</p></div><pre class="ocsforge_color odocwiki_code" id="VALchange_page"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">change_page</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_method">Eliom_service.service_method</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'd, 'e,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_registration#TYPEnon_ocaml_service">Eliom_registration.non_ocaml_service</a></span> ]<span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call a server side service and change the current page.
If the service belongs to the same application,
the client side program is not stopped, and only
the content (not the container) is reloaded.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcall_ocaml_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">call_ocaml_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_method">Eliom_service.service_method</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'd, 'e,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ],<br/>           'return <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEocaml_service">Eliom_service.ocaml_service</a></span><span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> 'return <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call a server side service that return an OCaml value.
</p><p>If the service raises an exception, the call to the
<span class="odocwiki_inlinecode">call_ocaml_service</span> raises an exception <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/#EXCEPTIONException_on_server">Exception_on_server</a></span>  whose argument describes the server-side
exception.
(NB that we cannot send the original exception as-it, because
OCaml permits the marshalling of exceptions ...)</p></div><pre class="ocsforge_color odocwiki_code" id="VALexit_to"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">exit_to</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_method">Eliom_service.service_method</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'd, 'e,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_registration#TYPEnon_ocaml_service">Eliom_registration.non_ocaml_service</a></span> ]<span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Stop current program and load a new page.  Note that for string arguments,
sole line feed or sole carriage return characters are substituted by the
string <span class="odocwiki_inlinecode">&quot;\r\n&quot;</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALwindow_open"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">window_open</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">window_name:</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">js_string</span> <span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?window_features:</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">js_string</span> <span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, unit, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEget_service_kind">Eliom_service.get_service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'b, unit,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ], 'c<span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Dom_html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">window</span> <span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Loads an Eliom service in a window (cf. Javascript's <span class="odocwiki_inlinecode">window.open</span>).</p></div><pre class="ocsforge_color odocwiki_code" id="VALchange_url"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">change_url</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'get, unit, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEget_service_kind">Eliom_service.get_service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'gn, unit,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ], 'return<span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> 'get <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Changes the URL, without doing a request.
It takes a GET (co-)service as parameter and its parameters.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcall_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">call_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_method">Eliom_service.service_method</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEattached">Eliom_service.attached</a></span> ], [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice_kind">Eliom_service.service_kind</a></span> ],<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEsuff">Eliom_service.suff</a></span> ], 'd, 'e,<br/>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEregistrable">Eliom_service.registrable</a></span> ], 'return<span class="ocsforge_color_delimiter">)</span><br/>          <span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_service#TYPEservice">Eliom_service.service</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span><a class="ocsforge_doclink_eliom" href="/eliom/5.0/api/client/Eliom_parameter#TYPEnl_params_set">Eliom_parameter.nl_params_set</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>(low level) Call a server side service and return the content
of the resulting HTTP frame as a string.</p></div><pre class="ocsforge_color odocwiki_code" id="VALonload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Registers some code to be executed after loading the client
application, or after changing the page the next time.
</p><p>It complements as a toplevel expression in the client
module with the side effect from client values while
creating the response of a service: While the latter are executed
each time the service has been called; the former is executed only
once; but each at a time where the document is in place:
</p><pre class=""><code class="language-ocaml translatable">{shared{ open Eliom_lib }}
    {client{
      let () = alert &quot;Once only during initialization of the client, \
                      i.e. before the document is available.&quot;
      let () =
        Eliom_client.onload
          (fun () -&gt; alert &quot;Once only when the document is put in place.&quot;)
    }}
    {server{
      let _ = My_app.register_service ~path ~get_params
        (fun () () -&gt;
           ignore {unit{
             alert &quot;Each time this service is called and the sent document \
                    is put in place.&quot;
           }};
           Lwt.return html
    }}</code></pre></div><pre class="ocsforge_color odocwiki_code" id="VALonunload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onunload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> string option<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">onunload f</span> registers <span class="odocwiki_inlinecode">f</span> as a handler to be called before
changing the page the next time. If <span class="odocwiki_inlinecode">f</span> returns <span class="odocwiki_inlinecode">Some s</span>, then we
ask the user to confirm quitting. We try to use <span class="odocwiki_inlinecode">s</span> in the
confirmation pop-up. <span class="odocwiki_inlinecode">None</span> means no confirmation needed.
</p><p>The callback <span class="odocwiki_inlinecode">f</span> is sometimes trigerred by internal service calls,
and sometimes by the browser <span class="odocwiki_inlinecode">onbeforeunload</span> event. In the
<span class="odocwiki_inlinecode">onbeforeunload</span> case, the confirmation pop-up is managed by the
browser. For Firefox, the string <span class="odocwiki_inlinecode">s</span> returned by <span class="odocwiki_inlinecode">f</span> is ignored:
https://bugzilla.mozilla.org/show_bug.cgi?id=641509
</p><p><span class="odocwiki_inlinecode">onunload</span> can be used to register multiple callbacks. If the user
decides to stay, we call any remaining callbacks, but these cannot
ask for further confirmation.</p></div><pre class="ocsforge_color odocwiki_code" id="VALwait_load_end"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">wait_load_end</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Wait for the initialization phase to terminate</p></div></div></body></html>
